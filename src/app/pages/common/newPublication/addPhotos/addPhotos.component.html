<div class="dialogBox scrollable">
	<div mat-dialog-title class="header">
		<div class="back">
			<button mat-icon-button (click)="close()">
				<i label="back"></i>
			</button>
		</div>
		<div class="text">
			{{translations?.photos?.title}} 
			{{data.arrayAddedItems.length}}/10
		</div>
		<div class="button">
			<button mat-button type="submit" (click)="submit($event)" [disabled]="data.arrayAddedItems.length > 10 || data.arrayAddedItems.length < 1">
				{{translations?.common?.ok}}
			</button>
		</div>
	</div>

	<div mat-dialog-content class="bodyCreatePublication">
		<div class="uploadFilesBox">
			<div class="button">
				<button mat-raised-button (click)="uploadFile.click()">
					<div class="left" [ngClass]="{'warning':data.list.length > 9}">
						<i label="cloud"></i>
					</div>
					<div class="right">
						<div class="top">
							{{translations?.photos?.chooseFiles}} {{data.list.length}}/9
						</div>
						<div class="bottom">
							{{translations?.photos?.maxSizePerFile}}
						</div>
					</div>
				</button>

				<input type='file' hidden #uploadFile name='fileUpload[]' multiple (change)="uploadFiles(1, $event)" accept=".jpg, .jpeg, .png, .gif, .bmp, .tiff, image/jpeg, image/png, image/gif, image/heic, image/heif, image/webp, video/*, .avi, .mp4, .3gp, .mpeg, .mov, .flv, .f4v, .wmv, .mkv, .webm, .vob, .rm, .rmvb, .m4v, .mpg, .ogv, .ts, .m2ts, .mts, .mxf">
			</div>
		</div>

		<div class="photos">
			<ul>
				<li mat-ripple *ngFor="let x of data.list; let i=index;" (click)="toggleItem(x)">
					<div class="image">
						<div class="img" [ngStyle]="{'background-image': 'url(' + x.thumbnail + ')'}"></div>

						<div class="category">
							<div class="size" *ngIf="x.sizeBig">{{x.sizeBig}}</div>
							<i label="videocam" *ngIf="x.mimetype.indexOf('video') !== -1"></i>
							<i label="gif" *ngIf="x.mimetype.indexOf('image/gif') !== -1"></i>
							<i label="cloud-upload"></i>
						</div>

						<div class="status">
							<div class="progress" *ngIf="x.status=='progress'">
								<mat-progress-spinner mode="determinate" [value]="x.progress"></mat-progress-spinner>
								<div class="value">{{x.progress}}%</div>
							</div>
							<button mat-icon-button *ngIf="x.status=='error'">
								<i label="cloud-off"></i>
							</button>
							<button mat-icon-button *ngIf="x.status=='completed'">
								<i label="add" *ngIf="!x.selected"></i>
								<i label="check" *ngIf="x.selected"></i>
							</button>
						</div>
					</div>
				</li>
			</ul>

			<div class="noData" *ngIf="data.list.length === 0">{{translations?.photos?.addSomeFiles}}</div>
		</div>
	</div>
</div>
